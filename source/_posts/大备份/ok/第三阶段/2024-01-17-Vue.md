---
title: Vue
tags:
  - JavaWeb
  - Vue
categories:
  - JavaWeb
copyright_author: 尚硅谷
copyright_author_href: 'https://atguigu.com'
copyright_url: 'https://atguigu.com'
copyright_info: 此文章版权归尚硅谷所有，如有转载，请注明来自原作者
abbrlink: f8e09374
date: 2024-01-17 00:48:22
description:

---

### Vue简单入门

#### 1.HelloWorld

##### 1.创建工程,导入vue.js文件放入工程的js文件夹中

① Vue框架的js文件获取

​	官网提供的下载地址：https://cdn.jsdelivr.net/npm/vue/dist/vue.js

② 创建空vue.js文件,将官网提供的vue.js文件的内容复制粘贴到本地vue.js文件中

##### 2.创建demo01.html(引入vuejs,定义div,创建vue实例)

```html
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Vue的入门</title>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    </head>
    <body>
        <div id="app">
            <div>{{message}}</div>
        </div>
        <!--
使用vue获取div中的内容，以及设置div中的内容
使用vue的具体步骤:
1. 指定一个区域，在该区域中使用vue (这里是id="app"区域)
2. 在该区域下方 再编写一个script标签，在script标签中创建Vue对象
3. 以json格式给Vue对象传入需要传入的参数
1. "el" 表示哪块区域可以使用vue
2. "data" 表示你需要定义的数据模型
4. 将message这个数据模型绑定给div的标签体: 使用插值表达式进行绑定
-->
        <script>
            var vue = new Vue({
                "el":"#app",
                "data":{
                    "message":"hello vue" //定义了一个数据模型，该数据模型的名字叫"message"
                }
            });
        </script>
    </body>
</html>
```

#### 2.声明式渲染

##### 1.概念

###### 1.声明式

<span style="color:blue;font-weight:bold;">『声明式』</span>是相对于<span style="color:blue;font-weight:bold;">『编程式』</span>而言的。

- 声明式：告诉框架做什么，具体操作由框架完成
- 编程式：自己编写代码完成具体操作

###### 2 .渲染

![images](https://blog-resources.this0.com/image/202403301650378.png?x-oss-process=style/this0-blog )

上图含义解释：

- 蓝色方框：HTML标签
- 红色圆形：动态、尚未确定的数据
- 蓝色圆形：经过程序运算以后，计算得到的具体的，可以直接在页面上显示的数据、
- 渲染：程序计算动态数据得到具体数据的过程

##### 2. 案例讲解

**HTML代码**

```html
<!-- 使用{{}}格式，指定要被渲染的数据 -->
<div id="app">{{message}}</div>
```

**vue代码**

```javascript
// 1.创建一个JSON对象，作为new Vue时要使用的参数
var argumentJson = {

    // el用于指定Vue对象要关联的HTML元素。el就是element的缩写
    // 通过id属性值指定HTML元素时，语法格式是：#id
    "el":"#app",

    // data属性设置了Vue对象中保存的数据
    "data":{
        "message":"Hello Vue!"
    } 
};

// 2.创建Vue对象，传入上面准备好的参数
var app = new Vue(argumentJson);
```

<img src="https://blog-resources.this0.com/image/202403301650370.png?x-oss-process=style/this0-blog" alt="images" style="zoom:50%;" />

通过验证Vue对象的『响应式』效果，我们看到Vue对象和页面上的HTML标签确实是始终保持着关联的关系，同时看到Vue在背后确实是做了大量的工作。

#### 3 .绑定元素属性

##### 1. 基本语法

v-bind:HTML标签的原始属性名

##### 2 .案例一代码

**HTML代码**

单向数据绑定

```html
<div id="app">
    <!-- v-bind:value表示将value属性交给Vue来进行管理，也就是绑定到Vue对象 -->
    <!-- vueValue是一个用来渲染属性值的表达式，相当于标签体中加{{}}的表达式 -->
    <input type="text" v-bind:value="vueValue" />

    <!-- 同样的表达式，在标签体内通过{{}}告诉Vue这里需要渲染； -->
    <!-- 在HTML标签的属性中，通过v-bind:属性名="表达式"的方式告诉Vue这里要渲染 -->
    <p>{{vueValue}}</p>
</div>

```

**Vue代码**

```javascript
// 创建Vue对象，挂载#app这个div标签
var app = new Vue({
    "el":"#app",
    "data":{
        "vueValue":"太阳当空照"
    }
});
```

##### 3. 案例二代码

**HTML代码**

```html
<div id="app">
    <p v-bind:style="fontCss">Vue and CSS</p>
</div>

```

**Vue代码**

```v
new Vue({
    "el":"#app",
    "data":{
        "fontCss":{
            "color":"red",
            "font-size":"30px",
        },
    },
});
```

**扩展:**

v-bind:属性名="属性值"可以简写成 :属性名="属性值"

#### 4 .双向数据绑定

##### 1. 提出问题

<img src="https://blog-resources.this0.com/image/202403301650437.png?x-oss-process=style/this0-blog" />

而使用了双向绑定后，就可以实现：页面上数据被修改后，Vue对象中的数据属性也跟着被修改。

##### 2 .案例代码

**HTML代码**

```html
<div id="app">
    <!-- v-bind:属性名 效果是从Vue对象渲染到页面 -->
    <!-- v-model:属性名 效果不仅是从Vue对象渲染到页面，而且能够在页面上数据修改后反向修改Vue对象中的数据属性 -->
    <input type="text" v-model:value="vueValue" />

    <p>{{vueValue}}</p>
</div>
```

**Vue代码**

```javascript
// 创建Vue对象，挂载#app这个div标签
var app = new Vue({
    "el":"#app",
    "data":{
        "vueValue":"太阳当空照"
    }
});
```

**页面效果**

p标签内的数据能够和文本框中的数据实现同步修改：

![images](https://blog-resources.this0.com/image/202403301650393.png?x-oss-process=style/this0-blog)

**扩展:**

1. v-model:value="值" 可以简写成 v-model="值"

2. trim修饰符

实际开发中，要考虑到用户在输入数据时，有可能会包含前后空格。而这些前后的空格对我们程序运行来说都是干扰因素，要去掉。在v-model后面加上.trim修饰符即可实现。

```html
<input type="text" v-model.trim="vueValue" />
```

Vue会帮助我们在文本框失去焦点时自动去除前后空格。

#### 5 .条件渲染

根据Vue对象中，数据属性的值来判断是否对HTML页面内容进行渲染。

##### 1. v-if

**HTML代码**

```html
<div id="app">
    <h3>if</h3>
    <img v-if="flag" src="/pro03-vue/images/one.jpg" />
    <img v-if="!flag" src="/pro03-vue/images/two.jpg" />
</div>
```

**Vue代码**

```javascript
var app = new Vue({
    "el":"#app",
    "data":{
        "flag":true
    }
});
```

##### 2 .v-if和v-else

**HTML代码**

```html
<div id="app02">
    <h3>if/else</h3>
    <img v-if="flag" src="/pro03-vue/images/one.jpg" />
    <img v-else="flag" src="/pro03-vue/images/two.jpg" />
</div>
```

**Vue代码**

```javascript
var app02 = new Vue({
    "el":"#app02",
    "data":{
        "flag":true
    }
});
```

##### 3. v-show

**HTML代码**

```html
<div id="app03">
    <h3>v-show</h3>
    <img v-show="flag" src="/pro03-vue/images/mi.jpg" />
</div>
```

**Vue代码**

```javascript
var app03 = new Vue({
    "el":"#app03",
    "data":{
        "flag":true
    }
});
```

#### 6. 列表渲染

##### 1. 迭代一个简单的数组

**HTML代码**

```html
<div id="app01">
    <ul>
        <!-- 使用v-for语法遍历数组 -->
        <!-- v-for的值是语法格式是：引用数组元素的变量名 in Vue对象中的数组属性名 -->
        <!-- 在文本标签体中使用{{引用数组元素的变量名}}渲染每一个数组元素 -->
        <li v-for="fruit in fruitList">{{fruit}}</li>
    </ul>
</div>
```

**Vue代码**

```javascript
var app01 = new Vue({
    "el":"#app01",
    "data":{
        "fruitList": [
            "apple",
            "banana",
            "orange",
            "grape",
            "dragonfruit"
        ]
    }
});
```

##### 2 .迭代一个对象数组

**HTML代码**

```html
<div id="app">
    <table>
        <tr>
            <th>编号</th>
            <th>姓名</th>
            <th>年龄</th>
            <th>专业</th>
        </tr>
        <!-- index变量在这段代码中没有直接使用，但它可以用于获取当前循环的索引值。如果需要在循环中访问当前元素的索引，可以使用index变量 -->
        <tr v-for="(employee,index) in employeeList">
            <td>{{employee.empId}}</td>
            <td>{{employee.empName}}</td>
            <td>{{employee.empAge}}</td>
            <td>{{employee.empSubject}}</td>
        </tr>
    </table>
</div>
```

**Vue代码**

```javascript
var app = new Vue({
    "el":"#app",
    "data":{
        "employeeList":[
            {
                "empId":11,
                "empName":"tom",
                "empAge":111,
                "empSubject":"java"
            },
            {
                "empId":22,
                "empName":"jerry",
                "empAge":222,
                "empSubject":"php"
            },
            {
                "empId":33,
                "empName":"bob",
                "empAge":333,
                "empSubject":"python"
            }
        ]
    }
});
```

#### 7 .事件驱动

##### 1. 案例一: 点击事件

**HTML代码**

```html
<div id="app">
    <input type="button" value="clickTest" v-on:click="clickTest"/>
</div>
```

**Vue代码**

```javascript
new Vue({
    "el":"#app",
    "methods":{
        "clickTest":function (ev) {
            console.log("你点我了");
        }
    }
});
```

##### 2 .案例二:change事件

**HTML代码**

```html
<div id="app">
    <input type="text" v-model="username" v-on:change="changeTest"/>
</div>
```

**Vue代码**

```javascript
new Vue({
    "el":"#app",
    "data":{
        "username":"",
    },
    "methods":{
        "changeTest":function (ev) {
            console.log("改变后的值："+this.username);
        }
    }
});
```

**扩展:**

v-on:事件名="函数"可以简写成@事件名="函数"

##### 3. 取消控件的默认行为

###### ① 控件默认行为

- 点超链接会跳转页面
- 点表单提交按钮会提交表单

本来控件的默认行为是天经地义就该如此的，但是如果我们希望点击之后根据我们判断的结果再看是否要跳转，此时默认行为无脑跳转的做法就不符合我们的预期了。

###### ② 取消方式

调用**事件对象**的**preventDefault()**方法。

**超链接举例**

HTML代码：

```javascript
<a id="anchor" href="http://www.baidu.com">超链接</a>
```

JavaScript代码：

```javascript
document.getElementById("anchor").onclick = function(ev) {
    console.log("我点击了一个超链接");
    ev.preventDefault();
}
```

**表单提交按钮举例**

HTML代码：

```html
<form action="http://www.baidu.com" method="post">
    <button id="submitBtn" type="submit">提交表单</button>
</form>
```

JavaScript代码：

```javascript
document.getElementById("submitBtn").onclick = function(ev) {
    console.log("我点击了一个表单提交按钮");
    ev.preventDefault();
}
```

#####  4. 阻止事件冒泡

<img src="https://blog-resources.this0.com/image/202403301650427.png?x-oss-process=style/this0-blog" alt="images" style="zoom:50%;" />

图中的两个div，他们的HTML标签是：

```html
<div id="outterDiv">
    <div id="innerDiv"></div>
</div>
```

点击里面的div同时也等于点击了外层的div，此时如果两个div上都绑定了单击响应函数那么就都会被触发：

```javascript
document.getElementById("outterDiv").onclick = function() {
    console.log("外层div的事件触发了");
}

document.getElementById("innerDiv").onclick = function() {
    console.log("内层div的事件触发了");
}

```

所以事件冒泡就是一个事件会不断向父元素传递，直到window对象。

如果这不是我们想要的效果那么可以使用<span style="color:blue;font-weight:bold;">事件对象</span>的<span style="color:blue;font-weight:bold;">stopPropagation()</span>函数阻止。

```javascript
document.getElementById("innerDiv").onclick = function(ev) {
    console.log("内层div的事件触发了");

    ev.stopPropagation();
}
```

##### 5 .Vue事件修饰符

对于事件修饰符，Vue官网的描述是：

> 在事件处理程序中调用 `event.preventDefault()` 或 `event.stopPropagation()` 是非常常见的需求。尽管我们可以在方法中轻松实现这点，但更好的方式是：<span style="color:blue;font-weight:bold;">方法只有纯粹的数据逻辑，而不是去处理 DOM 事件细节</span>。

###### ① 取消控件的默认行为

控件的默认行为指的是：

- 点击超链接跳转页面
- 点击表单提交按钮提交表单

实现这个需求使用的Vue事件修饰符是：<span style="color:blue;font-weight:bold;">.prevent</span>

```html
<a href="http://www.baidu.com" @click.prevent="clickAnchor">超链接</a>

<form action="http://www.baidu.com" method="post">
    <button type="submit" @click.prevent="clickSubmitBtn">提交表单</button>
</form>
```

###### ② 取消事件冒泡

实现这个需求使用的Vue事件修饰符是：<span style="color:blue;font-weight:bold;">.stop</span>

```html
<div id="outterDiv" @click="clickOutterDiv">
    <div id="innerDiv" @click.stop="clickInnerDiv"></div>
</div>
```

#### 8 .侦听属性

##### 1. 提出需求

```html
<div id="app">
    <p>尊姓：{{firstName}}</p>
    <p>大名：{{lastName}}</p>
    尊姓：<input type="text" v-model="firstName" /><br/>
    大名：<input type="text" v-model="lastName" /><br/>
    <p>全名：{{fullName}}</p>
</div>
```

在上面代码的基础上，我们希望firstName或lastName属性发生变化时，修改fullName属性。此时需要对firstName或lastName属性进行<span style="color:blue;font-weight:bold;">『侦听』</span>。

具体来说，所谓<span style="color:blue;font-weight:bold;">『侦听』</span>就是对message属性进行监控，当firstName或lastName属性的值发生变化时，调用我们准备好的函数。

##### 2 .Vue代码

在watch属性中声明对firstName和lastName属性进行<span style="color:blue;font-weight:bold;">『侦听』</span>的函数：

```javascript
var app = new Vue({
    "el":"#app",
    "data":{
        "firstName":"jim",
        "lastName":"green",
        "fullName":"jim green"
    },
    "watch":{
        "firstName":function(inputValue){
            this.fullName = inputValue + " " + this.lastName;
        },
        "lastName":function(inputValue){
            this.fullName = this.firstName + " " + inputValue;
        }
    }
});
```

#### 9 .Vue的生命周期

##### 1. 概念

在我们各种语言的编程领域中，<span style="color:blue;font-weight:bold;">『生命周期』</span>都是一个非常常见的概念。一个对象从创建、初始化、工作再到释放、清理和销毁，会经历很多环节的演变。比如我们在JavaSE阶段学习过线程的生命周期，今天学习Vue对象的生命周期，将来还要学习Servlet、Filter等Web组件的生命周期。

##### 2 .Vue对象的生命周期

<img src="https://blog-resources.this0.com/image/202403301650401.png?x-oss-process=style/this0-blog" />

##### 3 .生命周期钩子函数

Vue允许我们在特定的生命周期环节中通过钩子函数来加入我们的代码。

```html
<div id="app">
    <p id="content">{{message}}</p>
    <button @click="changeValue">点我</button>
</div>
```

```javascript
new Vue({
    "el":"#app",
    "data":{
        "message":"hello"
    },
    "methods":{
        "changeValue":function(){
            this.message = "new hello";
        }
    },

    // 1.实例创建之前
    "beforeCreate":function(){
        console.log("beforeCreate:"+this.message);
    },

    // 2.实例创建完成
    "created":function(){
        console.log("created:"+this.message);
    },

    // 3.数据挂载前
    "beforeMount":function(){
        console.log("beforeMount:"+document.getElementById("content").innerText);
    },

    // 4.数据已经挂载
    "mounted":function(){
        console.log("mounted:"+document.getElementById("content").innerText);
    },


});
```

